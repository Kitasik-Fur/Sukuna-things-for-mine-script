local newAnimationId = "16746808371"
local animationIds = { "12447707844" }

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local playerGui = player:WaitForChild("PlayerGui")
local RunService = game:GetService("RunService")
local SoundService = game:GetService("SoundService")

local cinematicGui = Instance.new("ScreenGui")
cinematicGui.Name = "CinematicGui"
cinematicGui.Parent = playerGui

local function createMangaText(parent, text)
    local billboardGui = Instance.new("BillboardGui")
    billboardGui.Size = UDim2.new(0, 150, 0, 350) 
    billboardGui.AlwaysOnTop = true
    billboardGui.LightInfluence = 0
    billboardGui.Parent = parent

    local borderFrame = Instance.new("Frame")
    borderFrame.Size = UDim2.new(1, 0, 1, 0)
    borderFrame.BackgroundColor3 = Color3.new(1, 1, 1) 
    borderFrame.BorderSizePixel = 5 
    borderFrame.BorderColor3 = Color3.new(0, 0, 0)  
    borderFrame.Parent = billboardGui

    local shadowLabel = Instance.new("TextLabel")
    shadowLabel.Size = UDim2.new(1, -20, 1, -20) 
    shadowLabel.Position = UDim2.new(0.5, 2, 0.5, 2) 
    shadowLabel.AnchorPoint = Vector2.new(0.5, 0.5)
    shadowLabel.BackgroundTransparency = 1
    shadowLabel.Text = text
    shadowLabel.Font = Enum.Font.Arcade
    shadowLabel.TextSize = 28
    shadowLabel.TextColor3 = Color3.new(0, 0, 0)  
    shadowLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
    shadowLabel.TextStrokeTransparency = 0.7
    shadowLabel.TextWrapped = true
    shadowLabel.Parent = borderFrame

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, -20, 1, -20) 
    textLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
    textLabel.AnchorPoint = Vector2.new(0.5, 0.5)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = text
    textLabel.Font = Enum.Font.Arcade
    textLabel.TextSize = 28
    textLabel.TextColor3 = Color3.new(0, 0, 0) 
    textLabel.TextStrokeColor3 = Color3.new(1, 1, 1)
    textLabel.TextStrokeTransparency = 0
    textLabel.TextWrapped = true
    textLabel.Parent = borderFrame

    return billboardGui
end

local leftText = createMangaText(cinematicGui, "*Laugh*")
local rightText = createMangaText(cinematicGui, "You're such an annoying brat")

leftText.Enabled = false
rightText.Enabled = false

local function updateTextOrientation()
    local head = character:WaitForChild("Head")
    leftText.Adornee = head
    rightText.Adornee = head

    leftText.StudsOffset = Vector3.new(-6, -2, 0)  
    rightText.StudsOffset = Vector3.new(6, -2, 0) 
end

RunService.RenderStepped:Connect(updateTextOrientation)

local soundEffect = Instance.new("Sound")
soundEffect.SoundId = "rbxassetid://6537618720"
soundEffect.Name = "NightmodeSound"
soundEffect.Volume = 15  
soundEffect.Parent = SoundService

local function showTextsAndPlaySound()
    leftText.Enabled = true
    rightText.Enabled = true

    soundEffect:Play()

    task.delay(2, function()
        leftText.Enabled = false
        rightText.Enabled = false
    end)
end

local function stopAnimations()
    for _, track in ipairs(humanoid:GetPlayingAnimationTracks()) do
        if table.find(animationIds, track.Animation.AnimationId:match("%d+$")) then
            track:Stop()
        end
    end
end

local function playNewAnimation()
    local animation = Instance.new("Animation")
    animation.AnimationId = "rbxassetid://" .. newAnimationId

    local animationTrack = humanoid:LoadAnimation(animation)
    animationTrack:Play()
    animationTrack:AdjustSpeed(1)
end

local function onAnimationTrackStarted(track)
    if table.find(animationIds, track.Animation.AnimationId:match("%d+$")) then
        stopAnimations()
        playNewAnimation()
        showTextsAndPlaySound()
    end
end

humanoid.AnimationPlayed:Connect(onAnimationTrackStarted)

local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- function to create text with offsets for thickness
local function createTextLayer(parent, offsetX, offsetY, color)
    local textLayer = Instance.new("TextLabel")
    textLayer.Parent = parent
    textLayer.Size = UDim2.new(0, 300, 0, 50)  -- adjust the size of za text
    textLayer.Position = UDim2.new(0.5, -150 + offsetX, 0.2, offsetY)  -- apply offsets
    textLayer.AnchorPoint = Vector2.new(0.5, 0.5)  -- centert za text
    textLayer.Text = "credits to tp exploit on discord"
    textLayer.TextColor3 = color  -- color for za layer
    textLayer.TextSize = 25
    textLayer.Font = Enum.Font.IndieFlower  -- setting font to Indie Flower
    textLayer.BackgroundTransparency = 1  -- transparent for za background
    textLayer.ZIndex = 1
    return textLayer
end

-- thickness (blackoutline dudeshit)
createTextLayer(screenGui, -1, -1, Color3.new(0, 0, 0)) -- Top-left
createTextLayer(screenGui, 1, -1, Color3.new(0, 0, 0))  -- Top-right
createTextLayer(screenGui, -1, 1, Color3.new(0, 0, 0))  -- Bottom-left
createTextLayer(screenGui, 1, 1, Color3.new(0, 0, 0))   -- Bottom-right

-- creating za main text for credititing
local textLabel = createTextLayer(screenGui, 0, 0, Color3.new(1, 1, 1)) -- whit main text
textLabel.ZIndex = 2  -- main text is on topcreating a skibidi screenui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- function to create text with offsets for thickness
local function createTextLayer(parent, offsetX, offsetY, color)
    local textLayer = Instance.new("TextLabel")
    textLayer.Parent = parent
    textLayer.Size = UDim2.new(0, 300, 0, 50)  -- adjust the size of za text
    textLayer.Position = UDim2.new(0.5, -150 + offsetX, 0.2, offsetY)  -- apply offsets
    textLayer.AnchorPoint = Vector2.new(0.5, 0.5)  -- centert za text
    textLayer.Text = "credits to tp exploit on discord"
    textLayer.TextColor3 = color  -- color for za layer
    textLayer.TextSize = 25
    textLayer.Font = Enum.Font.IndieFlower  -- setting font to Indie Flower
    textLayer.BackgroundTransparency = 1  -- transparent for za background
    textLayer.ZIndex = 1
    return textLayer
end

-- thickness (blackoutline dudeshit)
createTextLayer(screenGui, -1, -1, Color3.new(0, 0, 0)) -- Top-left
createTextLayer(screenGui, 1, -1, Color3.new(0, 0, 0))  -- Top-right
createTextLayer(screenGui, -1, 1, Color3.new(0, 0, 0))  -- Bottom-left
createTextLayer(screenGui, 1, 1, Color3.new(0, 0, 0))   -- Bottom-right

-- creating za main text for credititing
local textLabel = createTextLayer(screenGui, 0, 0, Color3.new(1, 1, 1)) -- whit main text
textLabel.ZIndex = 2  -- main text is on top
